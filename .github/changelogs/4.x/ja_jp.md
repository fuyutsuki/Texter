# 4.x 変更履歴

## 4.3.x

### 4.3.3

#### :bug: バグ修正

- プレイヤーがサーバーに参加しようとするとサーバーがクラッシュするバグを修正しました。

#### :arrow_heading_up: 最小PMMPバージョンの更新

- Texterを実行するにはPMMP 5.36.x以降が必要になりました。

#### ✔ 変更点

- 新しいPHPバージョンへの対応
- bStatsプラグインメトリクスを追加しました。

### 4.3.2

#### :bug: バグ修正

- 「コマンドの使用方法の出力を修正するために言語キーを更新」

### 4.3.1

#### :bug: バグ修正

- 浮き文字が一定時間で非表示になってしまう不具合を修正しました (#159)

### 4.3.0

#### :globe_with_meridians: 国際化

- @TERAMMII による翻訳: 韓国語を手直しし、英語を改善
- @DragonfireHD98 による翻訳: ドイツ語を追加

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 5.11.x (Minecraft 1.20.60~) に対応しました

## 4.2.x

### 4.2.3

#### ✔ 変更点

- 必要なときに必要なワールドのみを読み込むようになりました (#151)

### 4.2.2

#### :bug: バグ修正

- WaterdogPEで正常にパケットを処理できないバグを修正しました (#148)

### 4.2.1

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 5.3.x (Minecraft 1.20.10~) に対応しました

### 4.2.0

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 5.1.x (Minecraft 1.20.0~) に対応しました

## 4.1.x

### 4.1.10

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.20.x (Minecraft 1.19.80~) に対応しました

#### :bug: バグ修正

- プレイヤーがサーバーに入ったときにサーバーがクラッシュするのを修正しました。

### 4.1.9

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.14.x (Minecraft 1.19.60~) に対応しました

### 4.1.8

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.10.x (Minecraft 1.19.40~) に対応しました

### 4.1.7

#### :bug: バグ修正

- 浮き文字の編集時に型の不一致でサーバーがクラッシュする問題を修正しました ([CrashArchive#7465119](https://crash.pmmp.io/view/7465119))
- 浮き文字の移動時に未初期化プロパティを使用してサーバーがクラッシュする問題を修正しました ([CrashArchive#7479342](https://crash.pmmp.io/view/7479342))

### 4.1.6

#### :bug: バグ修正

- 浮き文字の編集時にサーバーがクラッシュする問題を修正しました (#130)

### 4.1.5

#### :bug: バグ修正

- 浮き文字の編集時に一意な識別子を変更できてしまう問題を修正しました (#129)

### 4.1.4

#### :globe_with_meridians: 国際化

- @SuperYYTによる翻訳: 中国語(簡体) を修正しました

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.6.x (Minecraft 1.19.10~) に対応しました

### 4.1.3

#### :bug: バグ修正

- プレイヤーがサーバーに参加してすぐに退出したときに存在しないプレイヤーに対して浮き文字を送信してしまう問題を修正しました
- `/txt move` を使用した際に型の不一致でサーバーがクラッシュする問題を修正しました

### 4.1.2

#### :bug: バグ修正

- `/txt move {テキスト名} here` を使用するとサーバーがクラッシュする問題を修正しました
- `/txt move` を使用した際に実際の座標とは異なる座標に浮き文字が表示される不具合を修正しました

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.5.x (Minecraft 1.19.0.5~) に対応しました  
  PMMPのマイナーバージョンがプロトコルを(殆どの場合)表すため、`mcpe-protocol` は使用されなくなりました

#### :globe_with_meridians: 国際化

- @IvanCraft623による翻訳: スペイン語(メキシコ) を追加しました

### 4.1.1

#### :bug: バグ修正

- フォームを使用するとサーバーがクラッシュする問題を修正しました

### 4.1.0

#### :arrow_heading_up: PMMPの変更に追従

- PMMP 4.xの変更に追従しました
- ただいま。

***

## 4.0.x

### 4.0.7

#### :bug: バグ修正

- ロシア語の翻訳ファイルが破損していた問題を修正しました

### 4.0.6

#### :globe_with_meridians: 国際化

- @iteplenkyによる翻訳: ロシア語 の追加
- 使用していないテキストを削除

### 4.0.5

#### :bug: バグ修正

- 旧バージョンからのデータ移行の際に浮き文字名が数字のみだと型の不整合によりサーバーがクラッシュする不具合を修正 (#115)

### 4.0.4

#### :arrow_heading_up: PMMPの変更に追従

- Minecraft: Bedrock Edition 1.16.220 リリースに伴う [pmmp/PocketMine-MP](https://github.com/pmmp/PocketMine-MP) の最新リリース `3.19.0` での動作確認を行いました
- アイテムスタックの変更に対応 (#111)

#### :warning: 後方互換性を損なう変更

- TexterはPocketMine-MP 3.19.0以上が必要になりました

### 4.0.3

#### :bug: バグ修正

- 特定の操作をした際にサーバーがクラッシュするバグを修正しました  
  クレジット: BlitzGames(UK), MCBEPU(CN), OneMine Хаб(RU), Sulfuritium(FR), YukioLifeServer(JP), GrieferSucht(DE), HayalCraft
  
### 4.0.2

#### :bug: バグ修正

- 特定のコマンド操作を行ったときにプレイヤーがブロックされるバグを修正しました

### 4.0.1

#### :globe_with_meridians: 国際化

- @TobyDev265による翻訳: ベトナム語 を追加しました

### 4.0.0

#### ✨ 新機能

##### 浮き文字

- 浮き文字に挿入できる変数を導入しました  
  記法はMineflowと同様、`{変数名}`です。
  - [MineFlow >= 2.0](https://poggit.pmmp.io/p/Mineflow) が必要です。
  - Mineflowの[一部の変数](/.github/readme/ja_jp.md#変数)を扱うことが出来ます。
    - Mineflowを用いた浮き文字の操作は要望があれば4.1以降に実装するかもしれません。

##### コマンド

- `/txt move` コマンドで移動先の座標を指定できるようになりました

##### 開発者

- 後述の `FloatingTextCluster` を用いて複数の浮き文字を簡単に扱うことができるようになりました

#### ✔ 変更点

##### コマンド

- `texter.command.txt` を `op` に設定しました。  
  もし以前のようにOP以外にも使用させたい場合、[PurePerms](https://poggit.pmmp.io/p/PurePerms) などの権限プラグインを使用することを検討してください。
- `/txt list` コマンドを削除しました  
  今後はそれぞれのコマンドで必要に応じて自動で浮き文字がリストアップされます。

##### 設定

- 以下の設定項目を `config.yml` から削除しました
  - `can.use.only.op`
  - `char`
  - `feed`
  - `world`

##### 開発者

- 浮き文字の役割を変更しました
	- **FloatingText**  
		浮き文字の最小単位です。浮き文字の名前は浮き文字の下部に表示されなくなりました。
	- **FloatingTextCluster**  
		一つまたは複数の浮き文字で構成された浮き文字群で、コマンドでまとめて操作することが出来ます。